SRC=main.c

OBJ=main.o

TARGET=elok_s.o

CC=/usr/bin/gcc

CFLAGS=-c -DMODULE -D__KERNEL__ -Wall -Wstrict-prototypes -O2

INCLUDE_DIR=/usr/src/linux/include

$(TARGET):$(OBJ)
	ld -r $(OBJ) -o $(TARGET)

$(OBJ):$(SRC)
	$(CC) $(CFLAGS) -I$(INCLUDE_DIR) $(SRC) 


clean:
	rm -f *.o *.cmd *.mod.c .*.o* .*.ko* *~ *.ko Module.markers modules.order Module.symvers 
	rm -rf .tmp_versions/

