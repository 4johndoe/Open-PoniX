#!/bin/sh

# to debug rdpsnd messages don't use WITH_DEBUG_SND, cause its usless. Instead set env variable WLOG_LEVEL
# right where you run xfreerdp (in ponix)
#
# export WLOG_LEVEL=TRACE (INFO,DEBUG,WARN,ERROR,FATAL)
#

rm -r /freerdp/*
rm -r ./CMakeCache.txt
make clean

cmake \
-DWITH_CLIENT_INTERFACE=OFF \
-DSTATIC_CHANNELS=ON \
-DWITH_MANPAGES=OFF \
-DMONOLITHIC_BUILD=ON \
-DBUILD_SHARED_LIBS=OFF \
-DCMAKE_INSTALL_PREFIX:PATH=/freerdp \
-DWITH_ALSA=ON \
-DWITH_PCSC=ON \
-DWITH_SSE2=ON \
-DWITH_JPEG=OFF \
-DWITH_CUPS=OFF \
-DWITH_PULSE=OFF \
-DWITH_FFMPEG=OFF \
-DWITH_OPENSLES=OFF \
-DWITH_GPROF=OFF \
-DWITH_DIRECTFB=OFF \
-DWITH_IPP=OFF \
-DWITH_SERVER=OFF .

#-DWITH_DEBUG_SND=ON \
#-DWITH_DEBUG_ALL=ON \
#-DCHANNEL_URBDRC=ON \
#-DCHANNEL_URBDRC_CLIENT=ON .

#-DWITH_GPROF:BOOL=OFF
#-DWITH_GSM:BOOL=OFF
#-DCMAKE_BUILD_TYPE:STRING=Debug \
#-DWITH_DEBUG_SCARD=ON .
#-DWITH_DEBUG_GDI=ON \
#-DWITH_DEBUG_ORDERS=ON \
#-DWITH_DEBUG_WND=ON \
#-DWITH_DEBUG_X11=ON \
#-DWITH_DEBUG_X11_CLIPRDR=ON \
#-DWITH_DEBUG_X11_LOCAL_MOVESIZE=ON \
 
#-DCMAKE_BUILD_TYPE=Test \

#for 17102014 version
#-DMONOLITHIC_BUILD=ON \
#-DWITH_GSTREAMER=OFF \
#-DBUILD_SHARED_LIBS=OFF \
#-DVENDOR=TSOL \
#-DWITH_NPP=OFF \


#make ; make install