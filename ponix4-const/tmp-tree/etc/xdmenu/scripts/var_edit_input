#!/bin/sh

. $TS_GLOBAL
load_lang config

if [ -z "$2" ] ; then
	echo "Require params: [VAR_NAME] [TITLE]!"
	exit;
fi

VARNAME=$1
VALUE="`eval echo '$'$VARNAME`"
if [ -z "$VALUE" ] ; then VALUE=$3 ; fi
if [ "$VALUE" = "NULL" ] ; then VALUE= ; fi
TITLE=$2

MENU_FILE=/tmp/vareditinput.xd

echo "
XD_TYPE=INPUT
XD_CLASSNAME=var_edit_input
XD_TITLE=\"$LNG_VAR_EDIT_INPUT_TITLE\"
XD_TEXT=\"$TITLE\"
XD_WIDTH=54
XD_INPUT_DEFAULT=\"$VALUE\"
XD_STORE_RESULT_AS=$VARNAME
XD_HEIGHT=16
XD_ITEM_HEIGHT=3
" > $MENU_FILE

/bin/xdmenu $MENU_FILE
